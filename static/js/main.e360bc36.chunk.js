(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports={article:"Article_article__3Yh0H",markdown:"Article_markdown__XOrvF",buttons:"Article_buttons__1A9u6",linkButton:"Article_linkButton__kRZfR",controlHeader:"Article_controlHeader__jB7K-"}},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(57),c=a.n(o),l=(a(71),a(15)),i=a(38),s=a(9),u=a(58),m=a.n(u),p=function(){var e=function(){sessionStorage.token&&sessionStorage.removeItem("token")};return r.a.createElement("header",{className:m.a.header},r.a.createElement("h1",null,"Rhodlib"),r.a.createElement("nav",null,r.a.createElement(s.a,{to:"/"},"blog"),sessionStorage.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{onClick:e,to:"/"},"Logout"),r.a.createElement(s.a,{to:"/new/article"},"Create")):r.a.createElement(s.a,{to:"/login"},"Login")))},h=a(61),d=a.n(h),f=function(){return r.a.createElement("footer",{className:d.a.footer},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/rhodlib_",target:"_blank",rel:"noopener noreferrer"},"Instagram")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/rhodlib",target:"_blank",rel:"noopener noreferrer"},"Twitter")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://t.me/rhodlib",target:"_blank",rel:"noopener noreferrer"},"Telegram")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/rhodlib",target:"_blank",rel:"noopener noreferrer"},"GitHub")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://bitbucket.org/rhodlib",target:"_blank",rel:"noopener noreferrer"},"BitBucket")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://rhodlib.me",target:"_blank",rel:"noopener noreferrer"},"Website"))),r.a.createElement("p",null,"Created by Rhodlib"))},b=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement("hr",null),t),r.a.createElement("hr",null),r.a.createElement(f,null))},g=a(3),E=a.n(g),v=a(11),k=a(12),_=a(37),w=a.n(_),x=a(4),j=a.n(x),O=a(21),y=a.n(O),C=a(62),S=a.n(C),N=(a(95),a(16)),A=a.n(N),B=function(e){var t=e.image,a=e.title,n=e.description,o=e.createdAt;return r.a.createElement(N.SkeletonTheme,{color:"#161f27",highlightColor:"#324759"},r.a.createElement("div",{className:y.a.headerContainer},r.a.createElement("div",{className:y.a.imgContainer},function(e){return void 0===e?r.a.createElement(A.a,{width:70,height:70}):r.a.createElement("img",{src:e,alt:"logo"})}(t)),r.a.createElement("div",{className:y.a.titleContainer},r.a.createElement("h3",{className:y.a.title},a||r.a.createElement(A.a,null)),r.a.createElement("p",{className:y.a.subtitle},n||r.a.createElement(A.a,null)," -"," ",r.a.createElement("span",null,r.a.createElement(S.a,{format:"YYYY/MM/DD",date:o}))))))},D=function(){var e=Object(l.g)(),t=Object(n.useState)([]),a=Object(k.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://rhodlib-blog.herokuapp.com/api/post");case 3:t=e.sent,c(t.data.reverse()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:w.a.home},function(){if(o)return o.map((function(t){return r.a.createElement("button",{key:t._id,className:w.a.button,onClick:function(){return e.push("/article/".concat(t.slug))}},r.a.createElement(B,{image:t.image,title:t.title,description:t.description,createdAt:t.createdAt}))}))}())},H=a(10),I=a(26),Y=a(63),q=a.n(Y),L=function(){var e=Object(l.g)(),t=Object(n.useState)({email:"",password:""}),a=Object(k.a)(t,2),o=a[0],c=a[1],i=function(e){var t=e.target,a=t.name,n=t.value;c(Object(I.a)({},o,Object(H.a)({},a,n)))},s=function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,j.a.post("https://rhodlib-blog.herokuapp.com/api/user/login",o);case 4:n=t.sent,sessionStorage.setItem("token",n.data.token),sessionStorage.token&&e.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log({error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:q.a.login},r.a.createElement("form",{onSubmit:s},r.a.createElement("h2",null,"Login"),r.a.createElement("input",{placeholder:"Email",type:"email",required:!0,name:"email",value:o.email,onChange:i}),r.a.createElement("input",{placeholder:"Password",type:"password",required:!0,name:"password",value:o.password,onChange:i}),r.a.createElement("button",{type:"submit"},"access")))},M=a(17),T=a.n(M),z=a(64),F=a.n(z),R=function(){var e=Object(l.g)(),t=Object(n.useState)({}),a=Object(k.a)(t,2),o=a[0],c=a[1],i=Object(l.h)().slug;Object(n.useEffect)((function(){localStorage.article&&c(localStorage.getItem("article")),s(i)}),[i]);var s=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://rhodlib-blog.herokuapp.com/api/post/".concat(t));case 3:a=e.sent,c(a.data),localStorage.setItem("article",a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var t=Object(v.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you wanna delete this article?")){t.next=11;break}return t.prev=1,j.a.defaults.headers.common.Authorization=sessionStorage.token,t.next=5,j.a.delete("https://rhodlib-blog.herokuapp.com/api/delete/".concat(a));case 5:e.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log({error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:T.a.article},r.a.createElement("div",{className:T.a.controlHeader},r.a.createElement(B,{image:o.image,title:o.title,description:o.description,createdAt:o.createdAt}),function(t){if(sessionStorage.token)return r.a.createElement("div",{className:T.a.buttons},r.a.createElement("button",{onClick:function(){return u(t)},className:T.a.linkButton},"Delete"),r.a.createElement("button",{onClick:function(){return e.push("/edit/".concat(i))},className:T.a.linkButton},"Edit"))}(o._id)),r.a.createElement("hr",null),void 0===o.markdown?r.a.createElement(N.SkeletonTheme,{color:"#161f27",highlightColor:"#324759"},r.a.createElement(A.a,{count:15})):r.a.createElement(F.a,{className:T.a.markdown,source:o.markdown}))},G=a(65),J=a.n(G),W=function(){var e=Object(l.g)(),t=Object(l.h)().slug,a=Object(n.useState)(!1),o=Object(k.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(""),u=Object(k.a)(s,2),m=u[0],p=u[1],h=Object(n.useState)({image:"",title:"",description:"",markdown:""}),d=Object(k.a)(h,2),f=d[0],b=d[1];Object(n.useEffect)((function(){t&&(g(t),i(!0))}),[t]);var g=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://rhodlib-blog.herokuapp.com/api/post/".concat(t));case 3:a=e.sent,b(a.data),p(a.data._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.target,a=t.name,n=t.value;b(Object(I.a)({},f,Object(H.a)({},a,n)))},w=function(){var a=Object(v.a)(E.a.mark((function a(n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!sessionStorage.token){a.next=25;break}if(!c){a.next=15;break}return a.prev=3,j.a.defaults.headers.common.Authorization=sessionStorage.token,a.next=7,j.a.put("https://rhodlib-blog.herokuapp.com/api/update/".concat(m),f);case 7:e.push("/article/".concat(t)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),console.log({error:a.t0});case 13:a.next=25;break;case 15:return a.prev=15,j.a.defaults.headers.common.Authorization=sessionStorage.token,a.next=19,j.a.post("https://rhodlib-blog.herokuapp.com/api/new/post",f);case 19:e.push("/"),a.next=25;break;case 22:a.prev=22,a.t1=a.catch(15),console.log({error:a.t1});case 25:case"end":return a.stop()}}),a,null,[[3,10],[15,22]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{className:J.a.form,onSubmit:w},r.a.createElement("input",{type:"text",required:!0,placeholder:"Url image layout",name:"image",value:f.image,onChange:_}),r.a.createElement("input",{type:"text",required:!0,placeholder:"Title",name:"title",value:f.title,onChange:_}),r.a.createElement("input",{type:"text",required:!0,placeholder:"Description",name:"description",value:f.description,onChange:_}),r.a.createElement("textarea",{required:!0,placeholder:"Markdown here",name:"markdown",value:f.markdown,onChange:_}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.goBack()}},"Back"),r.a.createElement("button",{type:"submit"},c?"Edit":"Create")))},K=function(){var e=Object(n.useContext)(l.e).location,t=Object(i.b)(e,(function(e){return e.pathname}),{from:{opacity:0,transform:"translate(30%, 0)"},enter:{opacity:1,transform:"translate(0%, 0)"},leave:{opacity:0,transform:"translate(-70%, 0)",position:"absolute"}});return r.a.createElement("div",{id:"App"},r.a.createElement(b,null,t.map((function(e){var t=e.item,a=e.props,n=e.key;return r.a.createElement(i.a.div,{key:n,style:a},r.a.createElement(l.d,{location:t},r.a.createElement(l.b,{strict:!0,exact:!0,path:"/",component:D}),r.a.createElement(l.b,{exact:!0,path:"/login",component:L}),r.a.createElement(l.b,{path:"/article/:slug",component:R}),r.a.createElement(l.b,{path:"/edit/:slug",component:W}),r.a.createElement(l.b,{path:"/new/article",component:W}),r.a.createElement(l.a,{to:"/"})))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(5),Z=Object(P.a)();c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.c,{history:Z},r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){e.exports={headerContainer:"Blogheader_headerContainer__3ayL2",imgContainer:"Blogheader_imgContainer__1IYJv",titleContainer:"Blogheader_titleContainer__1Pdzj",title:"Blogheader_title__2YVc_"}},37:function(e,t,a){e.exports={home:"Home_home__3Zh7M",button:"Home_button__1ecGI"}},58:function(e,t,a){e.exports={header:"Header_header__1l15B"}},61:function(e,t,a){e.exports={footer:"Footer_footer__1gsy4"}},63:function(e,t,a){e.exports={login:"Login_login__3GmmK"}},65:function(e,t,a){e.exports={form:"NewArticle_form__1ajD9"}},66:function(e,t,a){e.exports=a(178)},71:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.e360bc36.chunk.js.map